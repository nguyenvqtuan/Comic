<form xmlns:th="http://www.thymeleaf.org" id="form-update" data-parsley-validate
	class="form-horizontal form-label-left" th:method="PUT" th:object="${comic}" enctype="multipart/form-data">
	<div class="item form-group">
		<label class="col-form-label col-md-3 col-sm-3 label-align"
			for="title">Title<span class="required">*</span>
		</label>
		<div class="col-md-6 col-sm-6 ">
			<input th:field="*{title}" type="text" name="title" id="title" required="required"
				class="form-control ">
		</div>
	</div>
	<div class="item form-group">
		<label class="col-form-label col-md-3 col-sm-3 label-align"
			for="file">Image <span class="required">*</span>
		</label>
		<div class="col-md-6 col-sm-6 ">
			<input type="file" name="file" id="file" required="required"
				class="form-control" accept=".png, .jpg, .jpeg">
		</div>
	</div>
	<div class="item form-group">
		<label class="col-form-label col-md-3 col-sm-3 label-align"
			for="descripiton">Description
		</label>
		<div class="col-md-6 col-sm-6 ">
			<input  th:field="*{description}"  type="text" id="description" name="description"
				class="form-control">
		</div>
	</div>
	<div class="form-group row">
		<label class="control-label col-md-3 col-sm-3 ">Status</label>
		<div class="col-md-9 col-sm-9 ">
			<select th:field="*{status}" class="form-control">
				<option th:each="data,iter : ${statuses}" th:value="${iter.index}" th:text="${data}" th:selected="${iter.index == status}"></option>
			</select>
		</div>
	</div>
	<div class="ln_solid"></div>
	<div class="item form-group">
		<div class="col-md-6 col-sm-6 offset-md-3">
			<button class="btn btn-primary" type="reset">Reset</button>
			<button type="submit" class="btn btn-success">Submit</button>
		</div>
	</div>
	
	<script th:inline="javascript">
	$("#form-update").submit(function(e) {
		e.preventDefault();
		
		let form = $(this);
		let data = new FormData($(this)[0]);
		
		let id = [[${comic.id}]];
		$.modal.close();
		$.ajax({
		  contentType: false,
		  enctype: 'multipart/form-data',
		  type: "PUT",
		  data: data,
		  processData: false,
		  url: "/comic/" + id,
		  headers: {
		      "Accept": "application/json"
		    }
		}).done(function(result) {
			toastr.info(result);
		})
	})
	</script>
</form>
